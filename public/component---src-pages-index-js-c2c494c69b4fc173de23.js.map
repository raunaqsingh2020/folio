{"version":3,"file":"component---src-pages-index-js-c2c494c69b4fc173de23.js","mappings":"oNAoBMA,G,cAAgBC,EAAAA,GAAAA,IAAAA,WAAH,+DAAGA,CAAH,6BAKbC,EAAoBD,EAAAA,GAAAA,IAAAA,WAAH,mEAAGA,CAAH,8CAETE,GAASA,EAAMC,UAAY,UAChCD,GAASA,EAAME,KAAO,IAgBzBC,GAZaL,EAAAA,GAAAA,KAAAA,WAAH,4DAAGA,CAAH,oJASZM,EAAAA,IAGWN,EAAAA,GAAAA,IAAAA,WAAH,wDAAGA,CAAH,iBACAE,GAASA,EAAMK,QAAU,KAmHrC,UAvGkB,KAEhB,IAAM,EAACC,EAAD,EAAYC,IAAgBC,EAAAA,EAAAA,WAAS,GAErCC,GAAYC,EAAAA,EAAAA,UACZC,GAAcD,EAAAA,EAAAA,WAEd,EAACE,EAAD,EAAyBC,IAA6BL,EAAAA,EAAAA,UAAS,IAE/D,EAACM,EAAD,EAAmBC,IAAuBP,EAAAA,EAAAA,UAAS,UACnD,EAACQ,EAAD,EAAcC,IAAkBT,EAAAA,EAAAA,UAAS,IAEzC,EAACU,EAAD,EAAiBC,IAAqBX,EAAAA,EAAAA,UAAS,IAC/C,EAACY,EAAD,EAAiBC,IAAqBb,EAAAA,EAAAA,UAAS,UAE/C,EAACc,EAAD,EAAaC,IAAiBf,EAAAA,EAAAA,UAAS,QAEvCgB,EAAWC,IACf,IAAMC,EAASjB,EAAUkB,QAAQC,wBAC3BC,EAAWlB,EAAYgB,QAAQC,yBAEjCF,EAAOI,SAAW,KAAOD,EAASC,SAAW,MAC/CC,sBAAsBC,IAI1B,SAASA,IAEP,IAAIC,EAASC,OAAOC,QAChBC,GAAW,KAAOF,OAAOG,YAAcJ,GAAUC,OAAOG,YAG1DlB,EADEiB,GAAW,EACKA,EAEA,GAGpB,IAAME,EAAe7B,EAAUkB,QAAQC,wBACjCW,EAAiB5B,EAAYgB,QAAQC,wBAEvCU,EAAaR,QAAU,IACzBP,EAAc,WAEdA,EAAc,UAGZe,EAAaR,QAAU,GACzBT,EAAkB,QAClBR,EAA0B,GAC1BE,EAAoB,YACpBE,EAAe,OAEfI,EAAkB,SAClBR,EAA0B,GAC1BE,EAAoB,SACpBE,EAAesB,EAAelC,OAAOmC,WAAa,OAetD,OAXAC,EAAAA,EAAAA,kBAAgB,KACdP,OAAOQ,iBAAiB,SAAUlB,GAC3B,IAAMU,OAAOS,oBAAoB,SAAUnB,KACjD,KAEHoB,EAAAA,EAAAA,YAAU,KACJ,sBAAuBV,OAAOW,UAC9BX,OAAOW,QAAQC,kBAAoB,YAEvC,IAGA,gCACGxC,GACC,gBAAC,KAAD,CAASC,aAAcA,IAGzB,gBAACV,EAAD,KACE,gBAAC,KAAD,CAAckD,SAAUtC,KAK1B,gBAAC,KAAD,CAAQuC,QAAS1B,IACjB,gBAAC,KAAD,CAAiB2B,QAASrC,IAI1B,uBAAKsC,GAAG,aACR,gBAACnD,EAAD,CAAmBoD,IAAKxC,EAAaV,SAAUa,GAC7C,gBAAC,KAAD,CAAUI,eAAgBA,EAAgB8B,QAAS5B,KAGrD,gBAACjB,EAAD,CAAQE,OAAQW,IAEhB,uBAAKkC,GAAG,UACR,gBAAC,KAAD,MACA,uBAAKA,GAAG,YACR,gBAAC,KAAD,MACA,gBAAC,KAAD","sources":["webpack://gatsby-starter-default/./src/pages/index.js"],"sourcesContent":["import React, { Suspense, useRef, useEffect, useState, useLayoutEffect } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\n\nimport { motion } from \"framer-motion\"\nimport { Fade, AttentionSeeker, Zoom } from \"react-awesome-reveal\";\n\nimport Scene1 from \"@components/3DHeader/Scene1\"\n\nimport { Loading, NavBar, Projects, AboutMe, Header, Layout, ThemeContext, ContactMenu, ScrollIndicator, ThreeDHeader, Footer } from '@components';\nimport { NORTH_CAROSSELA } from '@styles/font'\n\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { OrbitControls } from '@react-three/drei'\nimport { useProgress, Html } from '@react-three/drei'\n\nimport { Controller, Scene } from 'react-scrollmagic';\nimport { Tween, Timeline } from 'react-gsap';\n\nconst HeaderWrapper = styled.div`\n  background-color: #000;\n`\n\n\nconst ProjectsContainer = styled.div`\n  width: 100vw;\n  position: ${props => props.position || \"fixed\"};\n  top: ${props => props.top || 0};\n  left: 0;\n`\n\nconst ScrollText = styled.text`\n  font-size: max(1vw, 0.8rem);\n  color: white;\n  background: transparent;\n  text-transform: uppercase;\n  position: fixed;\n  bottom: 1.5rem;\n  left: 1.5rem;\n  z-index: 6000;\n  ${NORTH_CAROSSELA}\n`\n\nconst Spacer = styled.div`\n  height: ${props => props.height || 0};\n`\n\nfunction Loader() {\n  const { progress } = useProgress()\n  return (\n    <Html center>\n      <span style={{ color: '#FFFFFF' }}>{progress} % loaded</span>\n    </Html>\n  )\n}\n\nconst IndexPage = () => {\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  const headerRef = useRef();\n  const projectsRef = useRef();\n\n  const [scrollIndicatorOpacity, setScrollIndicatorOpacity] = useState(0)\n\n  const [projectsPosition, setProjectsPosition] = useState(\"fixed\")\n  const [projectsTop, setProjectsTop] = useState(0)\n\n  const [overlayOpacity, setOverlayOpacity] = useState(1)\n  const [overlayDisplay, setOverlayDisplay] = useState(\"block\")\n\n  const [navDisplay, setNavDisplay] = useState(\"none\")\n\n  const onScroll = e => {\n    const header = headerRef.current.getBoundingClientRect();\n    const projects = projectsRef.current.getBoundingClientRect();\n\n    if (header.bottom >= -100 || projects.bottom >= -100) {\n      requestAnimationFrame(updatePositions);\n    }\n  };\n\n  function updatePositions() {\n\n    var scroll = window.scrollY;\n    var overlay = (2900 + window.innerHeight - scroll) / window.innerHeight;\n\n    if (overlay >= 0) {\n      setOverlayOpacity(overlay);\n    } else {\n      setOverlayOpacity(0);\n    }\n\n    const headerBounds = headerRef.current.getBoundingClientRect();\n    const projectsBounds = projectsRef.current.getBoundingClientRect();\n\n    if (headerBounds.bottom <= 100) {\n      setNavDisplay(\"visible\");\n    } else {\n      setNavDisplay(\"hidden\");\n    }\n\n    if (headerBounds.bottom <= 0) {\n      setOverlayDisplay(\"none\");\n      setScrollIndicatorOpacity(1);\n      setProjectsPosition(\"relative\");\n      setProjectsTop('0')\n    } else {\n      setOverlayDisplay(\"block\");\n      setScrollIndicatorOpacity(0);\n      setProjectsPosition(\"fixed\");\n      setProjectsTop(projectsBounds.height.toString() + 'px')\n    }\n  }\n\n  useLayoutEffect(() => {\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll)\n  }, [])\n\n  useEffect(()=>  {\n    if (\"scrollRestoration\" in window.history) {\n        window.history.scrollRestoration = \"manual\"\n      }\n  },[]);\n\n  return (\n    <>\n      {isLoading &&\n        <Loading setIsLoading={setIsLoading} />\n      }\n\n      <HeaderWrapper>\n        <ThreeDHeader sceneRef={headerRef} />\n      </HeaderWrapper>\n\n      {/* <ScrollText>SCROLL</ScrollText> */}\n\n      <NavBar display={navDisplay} />\n      <ScrollIndicator opacity={scrollIndicatorOpacity} />\n\n      {/* <Spacer height={\"2000px\"}/> */}\n\n      <div id=\"projects\" />\n      <ProjectsContainer ref={projectsRef} position={projectsPosition}>\n        <Projects overlayOpacity={overlayOpacity} display={overlayDisplay} />\n      </ProjectsContainer>\n\n      <Spacer height={projectsTop} />\n\n      <div id=\"about\" />\n      <AboutMe />\n      <div id=\"contact\" />\n      <ContactMenu />\n      <Footer />\n    </>\n  )\n}\n\nexport default IndexPage"],"names":["HeaderWrapper","styled","ProjectsContainer","props","position","top","Spacer","NORTH_CAROSSELA","height","isLoading","setIsLoading","useState","headerRef","useRef","projectsRef","scrollIndicatorOpacity","setScrollIndicatorOpacity","projectsPosition","setProjectsPosition","projectsTop","setProjectsTop","overlayOpacity","setOverlayOpacity","overlayDisplay","setOverlayDisplay","navDisplay","setNavDisplay","onScroll","e","header","current","getBoundingClientRect","projects","bottom","requestAnimationFrame","updatePositions","scroll","window","scrollY","overlay","innerHeight","headerBounds","projectsBounds","toString","useLayoutEffect","addEventListener","removeEventListener","useEffect","history","scrollRestoration","sceneRef","display","opacity","id","ref"],"sourceRoot":""}